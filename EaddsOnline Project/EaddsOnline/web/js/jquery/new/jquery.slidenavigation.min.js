/*!
* jQuery.slideNavigation - Version(1.0.1)
* Author: Ammar Ali Khan (http://www.itizze.com)
* Date: Fri Jul 01 11:29:53 2011 +10:00 GMT 
*
* Examples and documentation at: http://docs.itizze.com/jquery-plugin/jquery.slidenavigation/
*
* TERMS OF USE
* 
* Copyright © 2011 ITizze Corporation (http://www.itizze.com)
* All rights reserved.
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
* 
* Redistribution and use in source and binary forms, with or without modification, 
* are permitted provided that the following conditions are met:
* 
* Redistributions of source code must retain the above copyright notice, this list of 
* conditions and the following disclaimer.
* Redistributions in binary form must reproduce the above copyright notice, this list 
* of conditions and the following disclaimer in the documentation and/or other materials 
* provided with the distribution.
* 
* Neither the name of the author nor the names of contributors may be used to endorse 
* or promote products derived from this software without specific prior written permission.
* 
* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
* EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
* MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
* COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
* EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
* GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
* AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
* OF THE POSSIBILITY OF SUCH DAMAGE. 
*/
(function($) { var methods = { init: function(options) { var defaults = { integrateBackgroundPositionEffect: true, listIcon: 'http://library.itizze.com/script/jquery-plugin/jquery.slidenavigation/1.0.1/images/default.gif' }; var options = $.extend(defaults, options); return this.each(function() { var opt = options; var obj = $(this); if (opt.integrateBackgroundPositionEffect) { (function($) { if (!document.defaultView || !document.defaultView.getComputedStyle) { var oldCurCSS = $.curCSS; $.curCSS = function(elem, name, force) { if (name === 'background-position') { name = 'backgroundPosition'; } if (name !== 'backgroundPosition' || !elem.currentStyle || elem.currentStyle[name]) { return oldCurCSS.apply(this, arguments); } var style = elem.style; if (!force && style && style[name]) { return style[name]; } return oldCurCSS(elem, 'backgroundPositionX', force) + ' ' + oldCurCSS(elem, 'backgroundPositionY', force); }; } var oldAnim = $.fn.animate; $.fn.animate = function(prop) { if ('background-position' in prop) { prop.backgroundPosition = prop['background-position']; delete prop['background-position']; } if ('backgroundPosition' in prop) { prop.backgroundPosition = '(' + prop.backgroundPosition; } return oldAnim.apply(this, arguments); }; function toArray(strg) { strg = strg.replace(/left|top/g, '0px'); strg = strg.replace(/right|bottom/g, '100%'); strg = strg.replace(/([0-9\.]+)(\s|\)|$)/g, "$1px$2"); var res = strg.match(/(-?[0-9\.]+)(px|\%|em|pt)\s(-?[0-9\.]+)(px|\%|em|pt)/); return [parseFloat(res[1], 10), res[2], parseFloat(res[3], 10), res[4]]; } $.fx.step.backgroundPosition = function(fx) { if (!fx.bgPosReady) { var start = $.curCSS(fx.elem, 'backgroundPosition'); if (!start) { start = '0px 0px'; } start = toArray(start); fx.start = [start[0], start[2]]; var end = toArray(fx.end); fx.end = [end[0], end[2]]; fx.unit = [end[1], end[3]]; fx.bgPosReady = true; } var nowPosX = []; nowPosX[0] = ((fx.end[0] - fx.start[0]) * fx.pos) + fx.start[0] + fx.unit[0]; nowPosX[1] = ((fx.end[1] - fx.start[1]) * fx.pos) + fx.start[1] + fx.unit[1]; fx.elem.style.backgroundPosition = nowPosX[0] + ' ' + nowPosX[1]; }; })(jQuery); } $(obj).css({ 'background': 'transparent url(' + opt.listIcon + ') no-repeat 0px 7px' }).css({ backgroundPosition: '0px 7px' }).mouseenter(function() { $(this).stop(); $(this).animate({ backgroundPosition: "(0px 7px)" }, { duration: 1 }).animate({ backgroundPosition: "(-20px 7px)" }, { duration: 200 }).animate({ backgroundPosition: "(-20px -15px)" }, { duration: 1 }).stop(); $(this).animate({ backgroundPosition: "(-20px -15px)" }, { duration: 1 }).animate({ backgroundPosition: "(0px -15px)" }, { duration: 200 }).stop(); }).mouseleave(function() { $(this).stop(); $(this).animate({ backgroundPosition: "(0px -15px)" }, { duration: 1 }).animate({ backgroundPosition: "(-20px -15px)" }, { duration: 200 }).animate({ backgroundPosition: "(-20px 7px)" }, { duration: 1 }).stop(); $(this).animate({ backgroundPosition: "(-20px 7px)" }, { duration: 1 }).animate({ backgroundPosition: "(0px 7px)" }, { duration: 200 }).stop(); }); }); } }; $.fn.slideNavigation = function(method) { if (methods[method]) { return methods[method].apply(this, Array.prototype.slice.call(arguments, 1)); } else if (typeof method === 'object' || !method) { return methods.init.apply(this, arguments); } else { alert('Method ' + method + ' does not exist on jQuery.slideNavigation'); } }; })(jQuery);